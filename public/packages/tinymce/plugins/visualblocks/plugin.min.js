/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.3.0 (TBD)
 */
!function(){"use strict";function e(t,o,n){t.dom.toggleClass(t.getBody(),"mce-visualblocks"),n.set(!n.get()),function(t,o){t.fire("VisualBlocks",{state:o})}(t,n.get())}function i(n,e){return function(o){o.setActive(e.get());function t(t){return o.setActive(t.state)}return n.on("VisualBlocks",t),function(){return n.off("VisualBlocks",t)}}}var u=function(t){function o(){return n}var n=t;return{get:o,set:function(t){n=t},clone:function(){return u(o())}}},t=tinymce.util.Tools.resolve("tinymce.PluginManager");!function o(){t.add("visualblocks",function(t,o){var n=u(!1);!function(t,o,n){t.addCommand("mceVisualBlocks",function(){e(t,0,n)})}(t,0,n),function(t,o){t.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:i(t,o)}),t.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:i(t,o)})}(t,n),function(o,t,n){o.on("PreviewFormats AfterPreviewFormats",function(t){n.get()&&o.dom.toggleClass(o.getBody(),"mce-visualblocks","afterpreviewformats"===t.type)}),o.on("init",function(){!function(t){return t.getParam("visualblocks_default_state",!1,"boolean")}(o)||e(o,0,n)}),o.on("remove",function(){o.dom.removeClass(o.getBody(),"mce-visualblocks")})}(t,0,n)})}()}();